# Project Structure

## Repository Organization

```
rusty/
├── book.toml              # mdBook configuration
├── src/                   # Markdown source files
├── theme/                 # Custom theme files
├── book/                  # Generated HTML (git ignored)
├── scripts/               # Build and validation scripts
├── examples/              # Code examples (if any)
├── .github/workflows/     # CI/CD workflows
├── Makefile              # Build shortcuts
├── BUILD.md              # Detailed build instructions
└── README.md             # Project overview
```

## Source Structure (`src/`)

The content follows a specific hierarchy designed for progressive learning:

```
src/
├── SUMMARY.md                    # Table of contents (critical file)
├── introduction.md               # Book introduction
├── quick-reference/              # Section 1: Immediate productivity
│   ├── README.md
│   ├── syntax-mapping.md         # C-to-Rust translations
│   ├── memory-patterns.md        # Memory management equivalents
│   ├── control-flow.md           # Control structures
│   ├── error-handling.md         # Error patterns
│   ├── crypto-reference.md       # Crypto-specific quick ref
│   ├── embedded-reference.md     # Embedded-specific quick ref
│   └── gotchas.md               # Critical differences
├── environment-setup/            # Section 2: Development setup
├── core-concepts/               # Section 3: Language fundamentals
├── embedded-patterns/           # Section 4: no_std patterns
├── cryptography/               # Section 5: Secure crypto patterns
└── migration/                  # Section 6: Adoption strategies
```

## Content Organization Principles

### File Naming Conventions
- **Directories:** `kebab-case` (e.g., `core-concepts/`, `quick-reference/`)
- **Files:** `kebab-case.md` (e.g., `syntax-mapping.md`, `error-handling.md`)
- **README files:** Each section has a `README.md` as the section landing page

### Section Structure
Each major section follows this pattern:
1. **README.md** - Section overview with learning path and navigation
2. **Numbered subsections** - Sequential learning content
3. **Cross-references** - Links to related sections

### Content Hierarchy
- **Level 1:** Major sections (1-6)
- **Level 2:** Subsections within each major section
- **Level 3:** Topics within subsections (avoid going deeper)

## Theme and Assets (`theme/`)

```
theme/
├── custom.css                   # Custom styling
├── custom.js                    # Custom JavaScript
└── cortex-r5-playground.js     # Cortex-R5 specific features
```

## Build Artifacts (`book/`)

Generated by mdBook, contains:
- **HTML files** - One per markdown source
- **Static assets** - CSS, JS, fonts, search index
- **Directory structure** - Mirrors source structure
- **Special files** - `index.html`, `print.html`, `404.html`

## Scripts (`scripts/`)

Build and validation utilities:
- **`ci_local_test.sh`** - Local validation script
- Other validation scripts as needed

## Writing Conventions

### Content Style
- **Assumes C expertise** - No basic programming explanations
- **Crypto-focused examples** - All examples relevant to embedded crypto
- **Production-ready code** - Complete, compilable examples
- **Quick reference first** - Lookup tables for immediate productivity

### Markdown Conventions
- **Headers:** Use `#` for sections, `##` for subsections, `###` for topics
- **Code blocks:** Always specify language (```rust, ```bash, ```toml)
- **Tables:** Use for C-to-Rust mappings and quick references
- **Cross-references:** Use relative links between sections
- **Emphasis:** Use `**bold**` for important concepts, `*italic*` for emphasis

### Code Example Standards
- **Target:** ARM Cortex-R5 (`thumbv7em-none-eabihf`)
- **Environment:** `#![no_std]` and `#![no_main]` attributes
- **Dependencies:** Minimal, embedded-focused crates only
- **Comments:** Explain crypto-specific or embedded-specific aspects
- **Compilation:** Must compile with `cargo build --target armv7r-none-eabi --release`

### Navigation Patterns
- **Section READMEs:** Include learning paths and quick navigation
- **Cross-references:** Link to related concepts across sections
- **Progressive disclosure:** Use collapsible sections for optional content
- **Quick reference links:** Point to lookup tables from detailed explanations

## File Dependencies

### Critical Files
- **`src/SUMMARY.md`** - Defines entire book structure, must be kept in sync
- **`book.toml`** - Build configuration, affects all output
- **Section README files** - Landing pages for major sections

### Validation Requirements
- All files referenced in `SUMMARY.md` must exist
- All internal links must resolve correctly
- Code examples should be syntactically valid Rust
- Build must complete successfully with `mdbook build`